syntax = 'proto3';
package pb;

service AlgorithmAggregate{
    rpc CreateAlgorithm(CreateAlgorithmCommand) returns (Algorithm){}
    rpc GetAlgorithm(GetAlgorithmQuery) returns (Algorithm) {}
}
service AlgorithmQueryStore{
    rpc GetAlgorithm(Algorithm) returns (Algorithm) {}
}

message AlgorithmFile {
    string fileType = 1;
    string fileName = 2;
    string id = 3;
}   

message Algorithm{
    string name = 1;
    string version = 2;
    string id = 3;
    string status = 4; 
    repeated AlgorithmFile files = 5;
    
}

//Commands
message CreateAlgorithmCommand{
    Algorithm algorithm = 1;
    int64 createdOn = 2;
    string id = 3;
}

//Queries
message GetAlgorithmQuery{
    Algorithm algorithm = 1;
    int64 createdOn = 2;
    string id = 3;
}

message AssociateAlgorithmWithDatasetCommand{       
}

//Events
message AlgorithmCreatedEvent{
    Algorithm algorithm = 1;
    string id = 2;
}
message AlgorithmAssociatedWithDatasetEvent{
    Algorithm algorithm = 1;
    string id = 3;
}